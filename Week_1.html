<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Hỗ Trợ Thư Viện</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        #chat-container {
            max-width: 600px;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        #chat-box {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 10px;
        }
        .user-message, .bot-message {
            padding: 10px;
            border-radius: 5px;
            margin: 5px;
            max-width: 80%;
        }
        .user-message {
            background-color: #cfe2f3;
            text-align: right;
        }
        .bot-message {
            background-color: #d9f7be;
            text-align: left;
        }
        #user-input {
            width: calc(100% - 100px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        #send-button {
            width: 80px;
            padding: 10px;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        #send-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div id="chat-container">
    <div id="chat-box">
        <div class="bot-message">Chào bạn! Tôi có thể giúp gì cho bạn về thư viện?</div>
    </div>
    <input type="text" id="user-input" placeholder="Nhập câu hỏi..." />
    <button id="send-button">Gửi</button>
</div>

<script>
    // Quy tắc chatbot với từ khóa và phản hồi tương ứng
    const rules = [
        { keyword: "giờ làm việc", response: "Thư viện của chúng tôi mở cửa từ 8:00 sáng đến 6:00 chiều, từ thứ Hai đến thứ Sáu." },
        { keyword: "mượn sách", response: "Để mượn sách, bạn cần có thẻ thư viện. Hãy đến quầy mượn sách để thực hiện thủ tục." },
        { keyword: "trả sách", response: "Bạn có thể trả sách tại quầy mượn sách hoặc bỏ vào hộp trả sách ngoài giờ." },
        { keyword: "sách mới", response: "Chúng tôi thường xuyên cập nhật sách mới. Bạn có thể tìm thấy thông tin về sách mới trên trang web của thư viện hoặc đến quầy mượn sách để biết thêm chi tiết." },
        { keyword: "sách điện tử", response: "Thư viện cũng cung cấp dịch vụ mượn sách điện tử. Bạn có thể đăng nhập vào hệ thống trực tuyến để mượn sách điện tử." },
        { keyword: "phí mượn sách", response: "Phí mượn sách là miễn phí trong vòng 2 tuần. Sau thời gian này, bạn sẽ bị tính phí trễ." },
        { keyword: "tìm sách", response: "Bạn có thể tìm sách bằng cách sử dụng hệ thống tìm kiếm trên website của thư viện hoặc yêu cầu nhân viên hỗ trợ." },
        { keyword: "đặt sách", response: "Bạn có thể đặt sách trực tuyến qua hệ thống của thư viện. Nếu sách có sẵn, bạn sẽ nhận được thông báo khi có thể đến nhận." },
        { keyword: "thẻ thư viện", response: "Để có thẻ thư viện, bạn cần đăng ký tại quầy dịch vụ khách hàng. Bạn sẽ cần cung cấp giấy tờ tùy thân và một bức ảnh." },
        { keyword: "tình trạng sách", response: "Để kiểm tra tình trạng của sách, bạn có thể tra cứu trên hệ thống trực tuyến của thư viện hoặc yêu cầu nhân viên hỗ trợ." },
    ];

    // Hàm kiểm tra câu hỏi của người dùng và tìm phản hồi
    function getBotResponse(userInput) {
        let response = "Xin lỗi, tôi không hiểu câu hỏi của bạn. Bạn có thể thử lại với câu hỏi khác.";

        // Kiểm tra các từ khóa trong câu hỏi
        for (let rule of rules) {
            if (userInput.toLowerCase().includes(rule.keyword.toLowerCase())) {
                response = rule.response;
                break;
            }
        }

        return response;
    }

    // Hàm gửi tin nhắn từ người dùng và bot
    function sendMessage() {
        const userInput = document.getElementById("user-input").value.trim();

        if (userInput) {
            // Hiển thị câu hỏi của người dùng
            const userMessage = document.createElement("div");
            userMessage.classList.add("user-message");
            userMessage.innerText = userInput;
            document.getElementById("chat-box").appendChild(userMessage);

            // Làm sạch input
            document.getElementById("user-input").value = "";

            // Lấy phản hồi của bot
            const botResponse = getBotResponse(userInput);

            // Hiển thị câu trả lời của bot
            const botMessage = document.createElement("div");
            botMessage.classList.add("bot-message");
            botMessage.innerText = botResponse;
            document.getElementById("chat-box").appendChild(botMessage);

            // Cuộn xuống cuối cùng của hộp trò chuyện
            document.getElementById("chat-box").scrollTop = document.getElementById("chat-box").scrollHeight;
        }
    }

    // Sự kiện khi người dùng nhấn nút Gửi
    document.getElementById("send-button").addEventListener("click", sendMessage);

    // Sự kiện khi người dùng nhấn Enter
    document.getElementById("user-input").addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
            sendMessage();
        }
    });
</script>

</body>
</html>
